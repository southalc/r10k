---
# Common to all Linux nodes

types::user:
  root:
    forcelocal: true
    password: "%{lookup('ROOT_PASSWORD_HASH')}"
    password_max_age: '-1'
    expiry: absent


types::file:
  /etc/sudoers.d/admins:
    validate_cmd: '/usr/sbin/visudo -c -f %'
    content: |
      # %{lookup('FILE_HEADER')}
      %{lookup('SUDO_ADMINS')} %{hostname} = (root) NOPASSWD: ALL
  /etc/issue:
    content: |
      System is running %{::os.name}-%{::os.release.major} and managed by Puppet %{::puppetversion}
